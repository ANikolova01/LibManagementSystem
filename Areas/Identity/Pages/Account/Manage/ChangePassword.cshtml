@page
@model ChangePasswordModel
@{
    ViewData["Title"] = "Change password";
    ViewData["ActivePage"] = ManageNavPages.ChangePassword;
}

<h4>@ViewData["Title"]</h4>
<partial name="_StatusMessage" for="StatusMessage" />
<div class="row">
    <div class="col-md-6">
        <form id="change-password-form" method="post">
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Input.OldPassword"></label>
                <div class="input-group" id="show_hide_password">
                <input asp-for="Input.OldPassword" class="form-control password" type="password" placeholder="Old password" id="oldpassword">
                <span class="input-group-text">
                <i class="fa fa-eye-slash" id="toggleOldPassword" style="cursor: pointer"></i>
                </span>
                </div>
                <span asp-validation-for="Input.OldPassword" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.NewPassword"></label>
                <div class="input-group" id="show_hide_password">
                <input asp-for="Input.NewPassword" class="form-control password" type="password" placeholder="New password" id="newpassword">
                <span class="input-group-text">
                <i class="fa fa-eye-slash" id="toggleNewPassword" style="cursor: pointer"></i>
                </span>
                </div>
                <span asp-validation-for="Input.NewPassword" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.ConfirmPassword"></label>
                <div class="input-group" id="show_hide_password">
                <input asp-for="Input.ConfirmPassword" class="form-control password" type="password" placeholder="Confirm new password" id="confirmpassword">
                    <span class="input-group-text">
                    <i class="fa fa-eye-slash" id="toggleConfirmPassword" style="cursor: pointer"></i>
                    </span>
                </div>
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-primary">Update password</button>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

        <script>
    $("#toggleOldPassword").click(function (e) {
    e.preventDefault();
    var type = $(this).parent().parent().find("#oldpassword").attr("type");
    console.log(type);
    if(type == "password"){
        $(this).removeClass("fa-eye-slash");
        $(this).addClass("fa-eye");
        $(this).parent().parent().find("#oldpassword").attr("type","text");
    }else if(type == "text"){
        $(this).removeClass("fa-eye");
        $(this).addClass("fa-eye-slash");
        $(this).parent().parent().find("#oldpassword").attr("type","password");
    }});

        $("#toggleNewPassword").click(function (e) {
    e.preventDefault();
    var type = $(this).parent().parent().find("#newpassword").attr("type");
    console.log(type);
    if(type == "password"){
        $(this).removeClass("fa-eye-slash");
        $(this).addClass("fa-eye");
        $(this).parent().parent().find("#newpassword").attr("type","text");
    }else if(type == "text"){
        $(this).removeClass("fa-eye");
        $(this).addClass("fa-eye-slash");
        $(this).parent().parent().find("#newpassword").attr("type","password");
    }});

        $("#toggleConfirmPassword").click(function (e) {
    e.preventDefault();
    var type = $(this).parent().parent().find("#confirmpassword").attr("type");
    console.log(type);
    if(type == "password"){
        $(this).removeClass("fa-eye-slash");
        $(this).addClass("fa-eye");
        $(this).parent().parent().find("#confirmpassword").attr("type","text");
    }else if(type == "text"){
        $(this).removeClass("fa-eye");
        $(this).addClass("fa-eye-slash");
        $(this).parent().parent().find("#confirmpassword").attr("type","password");
    }});
    </script>
}